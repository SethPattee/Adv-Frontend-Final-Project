
# apiVersion: v1
# kind: PersistentVolumeClaim
# metadata:
#   namespace: sethfinal
#   name: starsdatabase-db-pvc
# spec:
#   accessModes:
#     - ReadWriteOnce
#   resources:
#     requests:
#       storage: 1Gi  # Adjust the storage size as needed
# ---
# apiVersion: apps/v1
# kind: Deployment
# metadata:
#   namespace: sethfinal
#   name: starsdatabase-db-deployment
#   labels:
#     app: starsdatabase-db
# spec:
#   replicas: 1
#   strategy:
#     type: Recreate
#   selector:
#     matchLabels:
#       app: starsdatabase-db
#   template:
#     metadata:
#       labels:
#         app: starsdatabase-db
#     spec:
#       containers:
#       - name: starsdatabase-db
#         image: postgres
#         ports:
#         - containerPort: 5432
#         env:
#         - name: POSTGRES_USER
#           value: postgres
#         - name: POSTGRES_PASSWORD
#           value: postgres
#         - name: POSTGRES_DB
#           value: starsdatabase_db
#         volumeMounts:
#         - name: postgresstorage
#           mountPath: /var/lib/postgresql/data
#         - name: init-script
#           mountPath: /docker-entrypoint-initdb.d
#       volumes:
#       - name: postgresstorage
#         persistentVolumeClaim:
#           claimName: starsdatabase-db-pvc
#       - name: init-script
#         configMap:
#           name: starsdatabase-db-init
# ---
# apiVersion: v1
# kind: Service
# metadata:
#   namespace: sethfinal
#   name: starsdatabase-db-service
# spec:
#   type: ClusterIP
#   selector:
#     app: starsdatabase-db
#   ports:
#     - port: 5432
#       targetPort: 5432
# ---
# apiVersion: v1
# kind: ConfigMap
# metadata:
#   namespace: sethfinal
#   name: starsdatabase-db-init
# data:
#   init.sql: |
#    CREATE TABLE profiles (
#     id SERIAL PRIMARY KEY,
#     user_id INT UNIQUE NOT NULL,           -- Unique identifier for each user
#     username VARCHAR(50) NOT NULL,
#     avatar_url TEXT,                       -- URL to the user's avatar
#     bio TEXT,                              -- Short bio of the user
#     astromoney_balance DECIMAL(10, 2),     -- Balance in "astromoney"
#     created_at TIMESTAMP DEFAULT NOW(),
#     updated_at TIMESTAMP DEFAULT NOW()
# );
# INSERT INTO profiles (user_id, username, avatar_url, bio, astromoney_balance)
# VALUES
#     (1, 'spacecadet', 'https://example.com/avatar1.png', 'Exploring the cosmos', 100.00),
#     (2, 'starchaser', 'https://example.com/avatar2.png', 'Chasing stars', 250.50);



